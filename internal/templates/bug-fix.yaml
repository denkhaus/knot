name: "Bug Fix"
description: "Standard workflow for fixing bugs with investigation, implementation, and testing phases"
category: "Development"
tags: ["bug", "development", "testing"]
variables:
  - name: "bug_id"
    description: "Bug ID or ticket number"
    type: "string"
    required: true
  - name: "bug_description"
    description: "Brief description of the bug"
    type: "string"
    required: true
  - name: "priority"
    description: "Bug priority level"
    type: "choice"
    required: true
    options: ["Low", "Medium", "High", "Critical"]
  - name: "estimated_hours"
    description: "Estimated hours to fix"
    type: "int"
    required: false
    default_value: "4"

tasks:
  - id: "investigate"
    title: "Investigate Bug {{bug_id}}: {{bug_description}}"
    description: "Analyze the bug, reproduce the issue, and identify root cause. Priority: {{priority}}"
    complexity: 3
    estimate: 120  # 2 hours in minutes
    
  - id: "implement_fix"
    title: "Implement Fix for {{bug_id}}"
    description: "Develop and implement the fix for: {{bug_description}}"
    complexity: 4
    parent_id: "investigate"
    dependencies: ["investigate"]
    estimate: 180  # 3 hours
    
  - id: "write_tests"
    title: "Write Tests for Bug Fix {{bug_id}}"
    description: "Create unit/integration tests to prevent regression of: {{bug_description}}"
    complexity: 3
    dependencies: ["implement_fix"]
    estimate: 90   # 1.5 hours
    
  - id: "code_review"
    title: "Code Review for Bug {{bug_id}}"
    description: "Review implementation and tests for bug fix: {{bug_description}}"
    complexity: 2
    dependencies: ["implement_fix", "write_tests"]
    estimate: 60   # 1 hour
    
  - id: "deploy_test"
    title: "Deploy and Test Fix for {{bug_id}}"
    description: "Deploy fix to test environment and verify resolution of: {{bug_description}}"
    complexity: 2
    dependencies: ["code_review"]
    estimate: 60   # 1 hour